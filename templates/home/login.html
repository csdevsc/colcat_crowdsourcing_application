{% extends 'base.html' %}
{% load staticfiles %}

{% block title %}Login{% endblock %}

{% block main %}

<script>
function authorize() {
  var name = document.getElementById("name").value;
  var password = document.getElementById("password").value;

  if (password == 'ColCat2015') {
    // Add their name to the URL
    window.location.replace("http://colcat.calit2.uci.edu:8003/home?name=" + name)
  } else {
    $('#alert-incorrect').show();
  }
}

function clearInputs() {
  var inputs, index;
  inputs = document.getElementsByTagName('input');
  for (index = 0; index < inputs.length; ++index) {
    inputs[index].value = "";
  }
}

function tryAgain() {
  clearInputs();
  $('#alert-incorrect').hide();
}
</script>

  <div id="authorize" class="container">
    <div class="row">
      <div class="col-md-4 col-md-offset-4">
        <h4>Please enter login details:</h4>
        <br>
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 col-md-offset-4">
        <input type="text" id="name" class="form-control" placeholder="Name" required autofocus>
      </div>
    </div>
    <br><br>
    <div class="row">
      <div class="col-md-4 col-md-offset-4">
        <input type="password" id="password" class="form-control" placeholder="Password" required>
      </div>
    </div>
  </div>
  <br>
  <div id="alerts" style="width: 400px; margin: 0 auto;">
    <div id="alert-incorrect" class="alert alert-danger" style="display: none;">
      <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
      <strong>Uh oh!</strong> It seems like you entered an incorrect password.
    </div>
  </div>
  <br>
  <div class="text-center">
    <button class="btn btn-primary btn-lg" type="submit" value="submit" onclick="authorize();">Enter</button>
  </div>

</div>

<br><br><br>
{% endblock %}
